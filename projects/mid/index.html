<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">EZ Mid | robotics is ez</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.roboticsisez.com/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.roboticsisez.com/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.roboticsisez.com/projects/mid"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="EZ Mid | robotics is ez"><meta data-rh="true" name="description" content="Built with Lucas Wills, Mid was an iteration of a simple robot built by 13186A to demonstrate to students iterating based on others&#x27; designs."><meta data-rh="true" property="og:description" content="Built with Lucas Wills, Mid was an iteration of a simple robot built by 13186A to demonstrate to students iterating based on others&#x27; designs."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-08-22T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://roboticsisez.com"><meta data-rh="true" property="article:tag" content="vex,hardware,software,cad,spin up"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.roboticsisez.com/projects/mid"><link data-rh="true" rel="alternate" href="https://www.roboticsisez.com/projects/mid" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.roboticsisez.com/projects/mid" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/projects/rss.xml" title="robotics is ez RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/projects/atom.xml" title="robotics is ez Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-P9R9K2VK",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.169a3519.css">
<script src="/assets/js/runtime~main.cc3b3668.js" defer="defer"></script>
<script src="/assets/js/main.49cbfcc0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P9R9K2VK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">robotics is ez</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/projects">Projects</a><a href="https://ez-robotics.github.io/EZ-Template/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">EZ-Template Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">About</a><a href="https://github.com/EZ-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All My Projects</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/dd-3">DD-3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/pure-pursuit">Pure Pursuit</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/about-ez-template">EZ-Template</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/pvc-bipod">PVC Bipod</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/adaptive-pid">Adaptive PID</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/spraypaint-booth">Spraypaint Booth</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/french-cleats">French Cleats</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/the-pushbot">The Pushbot</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/supernova-spectacular-awards">Supernova Spectacular Awards</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/preload-disc-holder">Preload Disc Holder</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/about-ez-gui">EZ GUI</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/projects/mid">EZ Mid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/harvard-westlake-blz-i">Harvard-Westlake- BLZ-i</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/vexcode-tutorials">VEXcode Tutorials</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/dave">Dave</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/esd-board-case">Printable ESD Board Case</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/harvard-westlake-amogo-dogo">Harvard-Westlake- AMOGO x DOGO</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/vex-cadding-tutorials">VEX CADing Tutorials</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/vex-change-up">Ooga Booga &amp; Frank</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/goofy-ri3d">Goofy - Robot in 3 Days</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/keke">Turning Point - Keke</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/spoonwars">Spoon Wars</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/pancake">Turning Point - Pancake</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/gort">In the Zone - Gort</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/middle-in-the-zone">Middle of In the Zone</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/geoffrey">In the Zone - Geoffrey</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/rerun">Rerun</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/minecraft-plugin-core">Minecraft Plugin - Core</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/nerf-destiny">Destiny Nerf Blaster</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/projects/nerf-mavshot">Mavshot Nerf Blaster</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Built with Lucas Wills, Mid was an iteration of a simple robot built by 13186A to demonstrate to students iterating based on others&#x27; designs."><header><h1 class="title_f1Hy" itemprop="headline">EZ Mid</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-08-22T00:00:00.000Z" itemprop="datePublished">August 22, 2022</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://roboticsisez.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/Unionjackjz1.png" alt="Jess Zarchi" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://roboticsisez.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jess Zarchi</span></a></div><small class="avatar__subtitle" itemprop="description">Roboticist</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Built with Lucas Wills, Mid was an iteration of a <a href="https://www.youtube.com/watch?v=CqWtpF6hbSg" target="_blank" rel="noopener noreferrer">simple robot built by 13186A</a> to demonstrate to students iterating based on others&#x27; designs.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/banner-7b3cff8fd82ce605b807f125535159f4.jpg" width="4032" height="3024" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="about">About<a href="#about" class="hash-link" aria-label="Direct link to About" title="Direct link to About">​</a></h2>
<p>Using 13186A as a base point, Lucas and I designed and iterated the system to get discs from storage to the flywheels.  The design we ended with was a linear slide that pushed the discs through, removing all the slip that the chain had.  I made software that automates the linear slide for the driver, regulates flywheel velocity using PID, jam detection on the intake, and pure pursuit for autonomous.  This robot uses custom molded traction wheels with 20A polyurethane and a custom-made gear ratio that gives 417rpm on 4.125&quot; wheels.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-and-prototyping">Design and Prototyping<a href="#design-and-prototyping" class="hash-link" aria-label="Direct link to Design and Prototyping" title="Direct link to Design and Prototyping">​</a></h2>
<p>This robot needs a way to intake discs without them being launched through the flywheel.  We first wanted to test how far we could push the speed of the design that team 13186A used, so we built something similar.  This structure has rollers underneath the disc so the disc has low friction traveling through.  We started with what we believe 13186A used and built the conveyor to move at 600rpm.  This worked, but would need another mechanism to stop the discs from reaching the flywheel until we wanted them to.</p>
<iframe width="315" height="560" src="https://www.youtube.com/embed/Izyi3V0yNfA?si=E7BX5xo2wY54dv4v" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>Keeping the same design, we modified the conveyor to take 2 motors and to be 1200rpm.<br>
<img decoding="async" loading="lazy" src="/assets/images/conveyor_test2_pic-c2b03b9e27d8e5bb68e8beac613f376e.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>This worked but it wasn&#x27;t twice as fast as the 600rpm.  This is because of an inherent design flaw where the conveyor needs to be able to slip over the discs.</p>
<iframe width="315" height="560" src="https://www.youtube.com/embed/E3u8rGcTqjo?si=q1DcrXMYRVST1RP-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>The new idea is to have a wheel that pushes the disc past a one-way gate.  This one-way gate would be on a linear slider and would push all 3 discs out at once.  This stops any slip from being able to happen.  Our first test of this was this simple wheel that takes in balls and pulls them past a one-way gate.  This worked amazingly.<br>
<img decoding="async" loading="lazy" src="/assets/images/hook_test1-9545ecd2f761fb25731d11f57c367d8c.jpg" width="4032" height="3024" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/hook_test2-0c426b47f7ba8aae051f5800b8655ac4.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>I designed a carriage to ride 1/8&quot; polycarbonate.  This will use a rack and pinion to power it up.<br>
<img decoding="async" loading="lazy" src="/assets/images/slider2-3a6e9c7711d886daab515ad22e645134.jpg" width="4032" height="3024" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/slider1-531eb3c0ca6011ce9d913cde211e9273.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>The first test of the slider is very promising.  We want the speed to be a bit faster, but there is no slipping and this is still able to intake discs.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/m_KOmR3r13k?si=3pKvPldhBDf3KgX4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>The one-way gate needed to have tension in one direction keeping it open.  Lucas used a piece of 1/32&quot; polycarbonate to act as the spring.  This is much smaller, simpler, and more reliable than using rubber bands or latex tubing.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/UBU99NCIDlM?si=X_vxHVuHrXRCciS6" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p><img decoding="async" loading="lazy" src="/assets/images/poly_spring-fef3661a17fdf3a4663ee7d68594a3fc.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>For our prototype of the flywheel, we used the spacing that 13186A used as a starting point.  We care about the space between the flex wheels because it determines how much compression there is, which directly changes how the flywheel will perform.</p>
<p>I designed hubs for <a href="https://www.vexrobotics.com/vrc-flex-wheels.html" target="_blank" rel="noopener noreferrer">30a 4&quot; flex wheels</a>.  These caps take a <a href="https://www.vexrobotics.com/gears.html" target="_blank" rel="noopener noreferrer">12t high strength pinion</a> in the center to make it compatible with a vex shaft.  Using a pinion here distributes the force across many points making it a much stronger mechanical connection, and the pinion gets press fit in with an arbor press.</p>
<p>In previous seasons I&#x27;ve also tested that having a flat surface on the flywheel increases the maximum achievable rpm by improving aerodynamics, like how some newer electric cars have aero caps on their wheels.<br>
<img decoding="async" loading="lazy" src="/assets/images/flexwheel_hubs-084eef0230b06691c532ff429f1f5c3e.jpg" width="4032" height="1780" class="img_ev3q"></p>
<p>Lucas and I built the flywheel assembly using the same gear ratio as well, 7:3 with the motors using 600rpm cartridges.  The results were really good.  We tried moving the compression in more and it quickly became too much compression, and if they were any farther apart there would be none.  We kept this flywheel distance.</p>
<iframe width="315" height="560" src="https://www.youtube.com/embed/UFsEGaHEmUo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<iframe width="315" height="560" src="https://www.youtube.com/embed/Lj05GJx497g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>After this testing, we felt we were ready to move on and start making the robot.  This drive goes 90&quot;/s, we used other drive trains that were 86&quot;/s and felt that was a good ballpark to get to.  I couldn&#x27;t make it the same because this drive train uses a different-sized wheel for the center.  The larger 4.125&quot; wheels spin at ~420rpm and the smaller 2.75&quot; wheel spins at ~630rpm.  I wanted this chassis to fit within 15&quot; but I wanted to use 4.125&quot; wheels to get over the low zone barrier easier, and this required using multiple sizes of wheel.  I included space behind the back motors to fit tracking wheels.  The cross bars on this robot are 1/2&quot; 6061 aluminum angle that I got from McMaster.<br>
<img decoding="async" loading="lazy" src="/assets/images/chassis-cad-1eff2d3580af6949d4c84de6cc0c95af.png" width="1126" height="730" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="assembly">Assembly<a href="#assembly" class="hash-link" aria-label="Direct link to Assembly" title="Direct link to Assembly">​</a></h2>
<p>The chassis needed some holes opened or widened to allow clearance for everything.  The gears that I designed don&#x27;t align with the hole pattern on c-channels sadly.  The gears I designed for the wheels go into the spokes to give a better mechanical connection between the two.<br>
<img decoding="async" loading="lazy" src="/assets/images/half-chassis-ab6c25fa928637a1ef52ea459d3b58a6.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>We built up both sides and I designed gussets to hold the slider.  There are also some holes for shafts to run across for the intake roller.<br>
<img decoding="async" loading="lazy" src="/assets/images/chassis_with_towers-ed70f9bb2258a6b1a7a299dbb0b5b959.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>For the intake roller, we wanted a shaft to go all the way across both sides around where the towers are above.  To do this we had to shift the motor back and use some gears to get a shaft going all the way across.<br>
<img decoding="async" loading="lazy" src="/assets/images/chassis_with_intake_gears-199fa7aa94e7304b7bb582e0de7c3363.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>The conveyor was screwed onto the tower mounts, and I designed a triangle brace for the conveyor that uses another piece of angle aluminum, this makes the entire conveyor very strong.
<img decoding="async" loading="lazy" src="/assets/images/conveyor_on_chassis-e331784d3b5668ad2970c5f2302c8eab.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>For the actual intake, there is a sprocket on the axle that runs across both towers.  A chain will run from that sprocket to the metal sprocket in the video below.  The 3D-printed cylinder will be mounted to a piece of PVC that has rubber over it.  The intake arm pivots around an extruded cylinder from the tower mounts.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5m1QFM3KUtY?si=cKwpfGN3Saat7Jj4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>We got the rubber over the pipe by blowing it up with an air compressor and sliding it over the pipe, that entire process was unenjoyable and inefficient.  If I were to do this again, I would use the solvents that are used to replace grip on golf clubs.<br>
<img decoding="async" loading="lazy" src="/assets/images/rubber_tube_compressor-a6db13cbe3023da0e2da6d1eeb7fddd1.jpg" width="4032" height="3024" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/intake_on-946f44bcea1068e4a14c2063ff3ad738.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>While waiting for some prints to finish so we could make the flywheel assembly, I mounted the tracking wheels.<br>
<img decoding="async" loading="lazy" src="/assets/images/tracking_wheel-4ec429344991e289b923f450113ef541.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>We kept the same wheel spacing as before, but the 7:3 gear ratio we were using previously with VEX gears wasn&#x27;t very nice.  The wheel spacing just barely doesn&#x27;t work with 4 gears total and we would have had to go to 6.  I designed custom gears that have the same 7:3 ratio which let us use just 4 gears.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DCpMuIPNv4U?si=qs7nMa_-elB-_3V3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>The flywheel was mounted to the robot and I mounted the electronics.  The robot is ready for field testing now.<br>
<img decoding="async" loading="lazy" src="/assets/images/flywheel_on_bot-04447365068f7b3f90c0277089b54b5d.jpg" width="3024" height="4032" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-and-iterating">Testing and Iterating<a href="#testing-and-iterating" class="hash-link" aria-label="Direct link to Testing and Iterating" title="Direct link to Testing and Iterating">​</a></h2>
<p>The robot is inconsistent currently but everything seems to work.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/e__h1EIPCsE?si=plh5BLYtWQ6PJsr5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>The robot needs to be able to spin rollers too.  I added this piece of metal to check where I needed to add a wheel relative to the slider.  This lets me design something nicer to house the wheel.<br>
<img decoding="async" loading="lazy" src="/assets/images/roller_with_c-fdff4661f8060862a5082f303f1ba265.jpg" width="3024" height="4032" class="img_ev3q"></p>
<p>Using various washers and wheels, I designed this piece of polycarbonate to hold the roller in the same place as the image above.<br>
<img decoding="async" loading="lazy" src="/assets/images/poly_layout-19f49c488dfeb61c7bf3aafbdb027177.jpg" width="1516" height="3607" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/roller_mounted-5350b32962b335ada32f3cb52ca8406d.jpg" width="3024" height="4032" class="img_ev3q"></p>
<p>A problem the slider has is friction while it&#x27;s moving.  It changes speeds throughout the motion because the prints are wearing out due to contact with the polycarbonate.<br>
<img decoding="async" loading="lazy" src="/assets/images/slider_degrading-cca849fcb7966e07ed27deeafeae7318.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>My first attempt at solving this was to just screw a piece of plastic over the 3D print, so the plastic was contacting instead of the print.<br>
<img decoding="async" loading="lazy" src="/assets/images/slider_with_poly-b308abb861ff819830f87cfcd1d07de5.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>This had tons of friction and I tried graphite lubricant to help, but in the end, it still wore out the carriage.<br>
<img decoding="async" loading="lazy" src="/assets/images/slider_with_poly_bad-454cff37e45a1aa7b532e156756a3758.jpg" width="4032" height="3024" class="img_ev3q"></p>
<p>I redesigned the slider to have rollers contact the polycarbonate instead and this completely solved my problem.  I didn&#x27;t realize how much the carriage would want to twist.  If I were to design this again, I would figure out how to power both sides to try to reduce twisting as much as possible.<br>
<img decoding="async" loading="lazy" src="/assets/images/new_slider-177fde5ffa5a148efc961c0c636e58c3.jpg" width="4032" height="3024" class="img_ev3q"></p>
<iframe width="315" height="560" src="https://www.youtube.com/embed/97OQWMcdllU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<iframe width="315" height="560" src="https://www.youtube.com/embed/hzQufTWOjWc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>Another problem that came up every once and a while was inconsistency in discs making it past the one-way gate.  The slider assembly hardly held 3 discs, so if the disc was grabbed too quickly it would prematurely fire a disc.  But if the disc wasn&#x27;t grabbed fast enough, it wouldn&#x27;t make it past the one-way gate.  I ended up changing the location of this roller and allowing it to pivot and this mostly solved the problem.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/D9BcgBTMMW0?si=vd9ZVqz-92jrug1i" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<p>Later I had to add a hard stop that allowed me to have fine adjustment over where the roller would sit.<br>
<img decoding="async" loading="lazy" src="/assets/images/roller_hardstop-1409f279a90e94560555a100f589564e.jpg" width="4032" height="3024" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="software">Software<a href="#software" class="hash-link" aria-label="Direct link to Software" title="Direct link to Software">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flywheel">Flywheel<a href="#flywheel" class="hash-link" aria-label="Direct link to Flywheel" title="Direct link to Flywheel">​</a></h3>
<p>For flywheel speed control I use a mix of bang-bang, velocity PID, and feed-forward.</p>
<p>I have a task running that has 4 states:</p>
<ul>
<li>if the target rpm is 0, do nothing</li>
<li>if the current rpm is less than the target, go full power</li>
<li>if the current rpm is within some threshold of the target, use feed-forward and velocity PID to hold a speed</li>
<li>if the current rpm is faster than the target, slowdown the flywheel just using feed-forward</li>
</ul>
<p>For feed forward, I made a simple graph to figure out what voltage is needed to get to a desired RPM.  I set the voltage of the flywheel to 127 and after letting it accelerate up to speed, I measured my flywheel&#x27;s average rpm over that time.  I did the same test with setting 63 to the flywheel instead.  This gives me two data points that I can make a line off of and figure out an estimated voltage for any desired rpm.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Tested data points</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token number" style="color:hsl(29, 54%, 61%)">1617</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token number" style="color:hsl(29, 54%, 61%)">813</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">63</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token comment" style="color:#ff63c2;font-style:italic">// Calculating m and b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> m </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">/</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> b </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">m </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calculating the estimated voltage required (we&#x27;re calling this &quot;hold power&quot;) we can input the desired rpm into <code>y=mx+b</code>.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Calculate theoretical power to hold rpm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> hold_power </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">targetRPM </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> m</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>PID is generally used as a position controller.  This does not plug and play into a velocity controller.  What happens is as we get closer to the desired rpm, the voltage would drop.  I run PID for the flywheel but I <code>+=</code> it to the flywheel, so the closer we get to the desired rpm the less power we add to the flywheel.  I add the PID output to <code>hold_power</code>.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token plain">flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">set_target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">targetRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">compute</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> hold_power </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">output</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Putting this all together in a task looks like this.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Control flywheels velocity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">flywheel_control</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Tested data points</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token number" style="color:hsl(29, 54%, 61%)">1617</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token number" style="color:hsl(29, 54%, 61%)">813</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">63</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Calculating m and b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> m </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">/</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> b </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">m </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> thresh </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">100</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  PID </span><span class="token function" style="color:hsl(207, 82%, 66%)">flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0008</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> thresh</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">reset_i_sgn </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> last_competition_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> just_disabled </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Calculate theoretical power to hold rpm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> hold_power </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">targetRPM </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> m</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// If the target is 0 do nothing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">targetRPM </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// If the flywheel is slower than the target rpm, go max speed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;=</span><span class="token plain"> targetRPM </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> thresh</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// When flywheel is faster than the target rpm, go 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;=</span><span class="token plain"> targetRPM </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> thresh</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> hold_power</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// When the flywheel is within deadband, run I controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">set_target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">targetRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">compute</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> hold_power </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> flywheelPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">output</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">clip_num</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">output</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_flywheel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">output</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">last_competition_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      just_disabled </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      flywheel_stopped </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    last_competition_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">just_disabled </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      just_disabled </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      flywheel_stopped </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token function" style="color:hsl(207, 82%, 66%)">tare_flywheel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">delay</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">Task </span><span class="token function" style="color:hsl(207, 82%, 66%)">flywheelControl</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">flywheel_control</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="indexer">Indexer<a href="#indexer" class="hash-link" aria-label="Direct link to Indexer" title="Direct link to Indexer">​</a></h3>
<p>The indexer uses a chunk of code I&#x27;ve been iterating throughout the last couple of seasons.  I use this code for lifts to automatically zero the motor sensor when the lift comes down, and to apply a tiny bit of power to the lift to make sure it holds down.  This gives a huge quality of life improvement.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Indexer task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">indexer_control</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  slider_motor</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">set_brake_mode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">MOTOR_BRAKE_BRAKE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  indexerPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">set_exit_condition</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">20</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">5</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">50</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">10</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">250</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">250</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">long</span><span class="token plain"> timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> did_reset </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> reset_time </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">30</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> zerod </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Current left and right sensors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> current </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> slider_motor</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_position</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Computes PID and clips the speed to max speed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">double</span><span class="token plain"> clipped_pid </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">clip_num</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexerPID</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">compute</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">current</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">abs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_speed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token function" style="color:hsl(207, 82%, 66%)">abs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_speed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Instead of using PID to come down, the robot will set the lift to some power, and when the velocity of the motor is 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// (the motor is at the bottom), will reset the encoders so the PID will continue to work.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">current </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;=</span><span class="token plain"> positions</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> clipped_pid</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> check </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">slider_motor</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_actual_velocity</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">?</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">check</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+=</span><span class="token plain"> DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;=</span><span class="token plain"> reset_time</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">5</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">did_reset</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> slider_motor</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">tare_position</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          did_reset </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> reset_time</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          zerod </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> speed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">zerod </span><span class="token operator" style="color:hsl(207, 82%, 66%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">90</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">          output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> speed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      did_reset </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      output </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> clipped_pid</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">competition</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">is_disabled</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> timer </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// printf(&quot;output: %f  pos: %f\n&quot;, output, current);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_indexer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">output</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">delay</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">Task </span><span class="token function" style="color:hsl(207, 82%, 66%)">indexerControl</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_control</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For the user control, I was able to press a button and have the slider push all 3 discs out, or I was able to iterate between each position and only shoot a single disc.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Opcontrol indexer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> b_indexer_last </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">indexer_opcontrol</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">getRPM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">500</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital_new_press</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INDEXER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_SHIFT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      indexer_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> positions</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">size</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_indexer_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INDEXER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_SHIFT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">b_indexer_last</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      indexer_state</span><span class="token operator" style="color:hsl(207, 82%, 66%)">++</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;=</span><span class="token plain"> positions</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">size</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> indexer_state </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_indexer_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">indexer_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    b_indexer_last </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INDEXER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At one point, I wanted to see if there was a way to automatically detect how many discs were in the conveyor.  I ran some tests to see if I could detect a difference in the power draw from the slider depending on how many discs it&#x27;s pushing.</p>
<p>I tested pushing no discs, one disc, and two discs, and I ran each test three times.  I think it&#x27;d be possible to retroactively figure out how many discs were in the slider, but I&#x27;d need to see a noticeable difference in power draw before the second disc reaches the flywheel, otherwise, it&#x27;ll get shot.  I ended up not including this feature, but if I were to I would put some sensor on the one-way gate.<br>
<img decoding="async" loading="lazy" src="/assets/images/power-draw-8e4b72bd09a6a2d4f14fc65ff4c10d0d.png" width="1239" height="757" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="intake">Intake<a href="#intake" class="hash-link" aria-label="Direct link to Intake" title="Direct link to Intake">​</a></h3>
<p>The intake uses some code I&#x27;ve been calling &quot;anti-jam&quot;.  It uses the velocity of the motor to decide if the motor should be spinning or not, and if there&#x27;s no motion out of the motor when there should be then we decide we&#x27;re in a &quot;jammed&quot; state.  The intake will spin in the opposite direction for some amount of time to try to get whatever is in it out, then continue to intake.</p>
<p>We check if the intake velocity is 0 when it shouldn&#x27;t be for some amount of time, and then we start spinning the motor backward for some amount of time.  This is all wrapped in a way where using the intake feels like normal, I can use <code>set_intake()</code> and pass a parameter of -127 to 127 and everything gets handled in the background.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// Intake task with antijam logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">intake_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> wait_time </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">30</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">const</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> outtake_time </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">70</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">bool</span><span class="token plain"> is_jammed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Run intake full power in opposite direction for 250ms when jammed, then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">//Set intake back to normal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">is_jammed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token function" style="color:hsl(207, 82%, 66%)">raw_set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">sgn</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">target_speed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+=</span><span class="token plain"> DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> outtake_time</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        is_jammed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">false</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">raw_set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">target_speed</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token comment" style="color:#ff63c2;font-style:italic">// Detect a jam if velocity is 0 for 250ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">target_speed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> intake_motors</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_actual_velocity</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+=</span><span class="token plain"> DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> wait_time</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">        is_jammed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">target_speed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">      jam_counter </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">delay</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">DELAY_TIME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">pros</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">Task </span><span class="token function" style="color:hsl(207, 82%, 66%)">Intake_Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">intake_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">intake_opcontrol</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INTAKE_IN</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_SHIFT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">?</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">60</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INTAKE_OUT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_SHIFT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">60</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">127</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INTAKE_IN</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">master</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">get_digital</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">B_INTAKE_OUT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For the slider to engage with the discs the slider must be down.  This is handled in the intake function, setting the indexer state to <code>0</code> on the rising action of setting the intake.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F2F2F2;--prism-background-color:#373737"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F2F2F2;background-color:#373737"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F2F2F2"><span class="token comment" style="color:#ff63c2;font-style:italic">// For use in this file only</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">raw_set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> input</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token keyword" style="color:hsl(286, 60%, 67%)">auto</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"> intake_motors</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    i</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">move_voltage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">input </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">12000.0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">/</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">127.0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token comment" style="color:#ff63c2;font-style:italic">// On rising action of intake being set, set indexer state to 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">input </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">100</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> last_input </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">100</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_indexer_state</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  last_input </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> input</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token comment" style="color:#ff63c2;font-style:italic">// This is used outside of this file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> input</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  </span><span class="token function" style="color:hsl(207, 82%, 66%)">raw_set_intake</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain">  target_speed </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> input</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F2F2F2"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>This robot ended up being extremely useful for:</p>
<ul>
<li>showcasing the engineering design process</li>
<li>showcasing how to iterate off of someone else&#x27;s work</li>
<li>how to verify someone else&#x27;s tests</li>
<li>scrimmaging with my students</li>
<li>teaching me the nuances of building a robot to handle these game elements
<img decoding="async" loading="lazy" src="/assets/images/banner-7b3cff8fd82ce605b807f125535159f4.jpg" width="4032" height="3024" class="img_ev3q"></li>
</ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/projects/tags/vex">vex</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/projects/tags/hardware">hardware</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/projects/tags/software">software</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/projects/tags/cad">cad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/projects/tags/spin-up">spin up</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/projects/about-ez-gui"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">EZ GUI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/projects/harvard-westlake-blz-i"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Harvard-Westlake- BLZ-i</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about" class="table-of-contents__link toc-highlight">About</a></li><li><a href="#design-and-prototyping" class="table-of-contents__link toc-highlight">Design and Prototyping</a></li><li><a href="#assembly" class="table-of-contents__link toc-highlight">Assembly</a></li><li><a href="#testing-and-iterating" class="table-of-contents__link toc-highlight">Testing and Iterating</a></li><li><a href="#software" class="table-of-contents__link toc-highlight">Software</a><ul><li><a href="#flywheel" class="table-of-contents__link toc-highlight">Flywheel</a></li><li><a href="#indexer" class="table-of-contents__link toc-highlight">Indexer</a></li><li><a href="#intake" class="table-of-contents__link toc-highlight">Intake</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ez-robotics.github.io/EZ-Template/" target="_blank" rel="noopener noreferrer" class="footer__link-item">EZ-Template</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.instagram.com/roboticsisez" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">About Me</a></li><li class="footer__item"><a href="https://github.com/EZ-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 robotics is ez - built with docusaurus</div></div></div></footer></div>
</body>
</html>